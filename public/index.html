<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>hack test</title>
    <style media="screen">
      body {font-family: sans-serif}
      ul {
        max-height: 300px;
        overflow: scroll;
      }
    </style>
  </head>
  <body>
    <h1>Hack room</h1>

<pre><code>
&lt;script src="Hack.js"&gt;&lt;/script&gt;
&lt;script&gt;
var hack = new Hack('my-hack-room')

hack.on('message', function(message){
  // message receieved in room
  console.log(message)
})

// send message to room
hack.trigger('message', text.value)
&lt;/script&gt;
    </code></pre>

    <hr />

    <ul id="messages">
    </ul>
    <form id="form">
      <input type="text" id="text" value=""><input type="submit" value="send">
    </form>


    <script src="Hack.js"></script>
    <script>

    var hack = new Hack('my-test-room')

    // add any messages we get from anyone else
    hack.on('message', function(message){
      addMessage(message)
    })

    // submit
    form.addEventListener('submit', function(e) {
      e.preventDefault()

      // broadcast to other people
      hack.trigger('message', text.value)

      // add it locally
      addMessage(text.value)
      text.value = ''

    }, false)


    // helper functions
    function addMessage(txt) {
      var li = document.createElement('li')
      li.innerText = txt
      messages.appendChild(li)
    }
    </script>


  </body>
</html>
